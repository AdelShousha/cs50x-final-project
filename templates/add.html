{% extends "layout.html" %}

{% block title %}
    Add Subjects
{% endblock %}

{% block main %}
    <form action="/add" method="post">
        <div class="mb-3">
            <input autocomplete="off" autofocus class="form-control mx-auto w-auto"  name="name" placeholder="Subject Name" type="text">
            <input autocomplete="off" autofocus class="form-control mx-auto w-auto"  name="hours" placeholder="Credit Hours" type="number" min="1" max="6">
            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="percent" name="percent" placeholder="Score" type="number" min="1" max="100">
            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" readonly id="gpa" name="gpa" placeholder="gpa" type="number" step="0.01" min="0" max="4" >
            <button class="btn btn-primary" type="submit">Add</button>
        </div>
    </form>
    <script>
        let input = document.querySelector('#percent');
        input.addEventListener('input', async function() {
            let shows = input.value;
            if(input.value > 100){
                shows = 0.0
            }
            else if (input.value >= 93){
                shows = 4.0
            }
            else if(input.value >= 89){
                shows = 3.7
            }
            else if(input.value >= 84){
                shows = 3.3
            }
            else if(input.value >= 80){
                shows = 3.0
            }
            else if(input.value >= 76){
                shows = 2.7
            }
            else if(input.value >= 73){
                shows = 2.3
            }
            else if(input.value >= 70){
                shows = 2.0
            }
            else if(input.value >= 67){
                shows = 1.7
            }
            else if(input.value >= 64){
                shows = 1.3
            }
            else if(input.value >= 60){
                shows = 1.0
            }
            else{
                shows = 0.0
            }

            document.querySelector("#gpa").value = shows;
        });
    </script>
    <div class="mb-3">
        <a href='/'>
            <button class="btn btn-primary" type="submit">Finish</button>
        </a>
      
     
{% endblock %}